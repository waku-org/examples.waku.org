import protobuf from "protobufjs";
import { concat } from "@waku/utils/bytes";
import { IdentityCredential, Keystore } from "@waku/rln";

export const CONTENT_TOPIC = "/toy-chat/2/luzhou/proto";
export const CLUSTER_ID = 1;

export const MEMBERSHIP_ID = 14;
export const RLN_CREDENTIALS = IdentityCredential.fromBytes(
  concat([
    /* IDTrapdoor */ Keystore.fromArraylikeToBytes({
      0: 182,
      1: 79,
      2: 126,
      3: 47,
      4: 227,
      5: 67,
      6: 22,
      7: 100,
      8: 128,
      9: 168,
      10: 33,
      11: 164,
      12: 240,
      13: 233,
      14: 91,
      15: 245,
      16: 75,
      17: 156,
      18: 224,
      19: 189,
      20: 174,
      21: 19,
      22: 104,
      23: 69,
      24: 190,
      25: 34,
      26: 222,
      27: 244,
      28: 119,
      29: 236,
      30: 43,
      31: 29,
    }),
    /* IDNullifier */ Keystore.fromArraylikeToBytes({
      0: 99,
      1: 194,
      2: 251,
      3: 229,
      4: 115,
      5: 41,
      6: 207,
      7: 215,
      8: 31,
      9: 155,
      10: 237,
      11: 129,
      12: 119,
      13: 201,
      14: 241,
      15: 178,
      16: 76,
      17: 227,
      18: 87,
      19: 145,
      20: 151,
      21: 94,
      22: 213,
      23: 40,
      24: 232,
      25: 163,
      26: 3,
      27: 145,
      28: 2,
      29: 34,
      30: 209,
      31: 37,
    }),
    /* IDSecretHash */ Keystore.fromArraylikeToBytes({
      0: 35,
      1: 167,
      2: 89,
      3: 158,
      4: 35,
      5: 198,
      6: 187,
      7: 240,
      8: 114,
      9: 76,
      10: 220,
      11: 111,
      12: 245,
      13: 76,
      14: 201,
      15: 187,
      16: 30,
      17: 53,
      18: 94,
      19: 175,
      20: 16,
      21: 73,
      22: 65,
      23: 92,
      24: 156,
      25: 189,
      26: 153,
      27: 66,
      28: 60,
      29: 91,
      30: 235,
      31: 30,
    }),
    /* IDCommitment */ Keystore.fromArraylikeToBytes({
      0: 181,
      1: 107,
      2: 5,
      3: 148,
      4: 160,
      5: 49,
      6: 176,
      7: 143,
      8: 203,
      9: 53,
      10: 127,
      11: 44,
      12: 190,
      13: 133,
      14: 75,
      15: 42,
      16: 96,
      17: 153,
      18: 78,
      19: 63,
      20: 205,
      21: 66,
      22: 9,
      23: 72,
      24: 127,
      25: 210,
      26: 22,
      27: 133,
      28: 37,
      29: 28,
      30: 91,
      31: 4,
    }),
  ])
);

export const ProtoChatMessage = new protobuf.Type("ChatMessage")
  .add(new protobuf.Field("timestamp", 1, "uint64"))
  .add(new protobuf.Field("nick", 2, "string"))
  .add(new protobuf.Field("text", 3, "string"));
